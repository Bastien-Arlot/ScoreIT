

<div class="container text-center" id="content">
<% if !startup.scores.last.name.nil? || startup.scores.length > 1 %>
  <div class="row g-3">
    <div class="col-12 card_startup">
          <h2 style="font-size:5rem;">Total : <span id="result" class="text-color"><%= score.total_100 %></span>/100</h2>
    </div>

  <div class="col-lg-4 col-md-6 col-sm-12">
    <div class="card_startup">
      <h3>Innovation :</h3>
      <h5 class="text-color"><%=  @score.category_innovation.total_100_innovation %>/100</h5>
    </div>
  </div>
    

  <div class="col-lg-4 col-md-6 col-sm-12">
    <div class="card_startup">
      <h3>Finance :</h3>
      <h5 class="text-color"><%=  @score.category_finance.total_100_finance %>/100</h5>
    </div>
  </div>

  <div class="col-lg-4 col-md-6 col-sm-12">
    <div class="card_startup">
      <h3>Marché :</h3>
      <h5 class="text-color"><%=  @score.category_market.total_100_market %>/100</h5>
    </div>
  </div>

  <div class="col-lg-4 col-md-6 col-sm-12">
    <div class="card_startup">
      <h3>Stratégie :</h3>
      <h5 class="text-color"><%=  @score.category_strategy.total_100_strategy %>/100</h5>
    </div>
  </div>

  <div class="col-lg-4 col-md-6 col-sm-12">
    <div class="card_startup">
      <h3>Offre :</h3>
      <h5 class="text-color"><%=  @score.category_offer.total_100_offer %>/100</h5>
    </div>
  </div>

  <div class="col-lg-4 col-md-6 col-sm-12">
    <div class="card_startup">
      <h3>Equipe :</h3>
      <h5 class="text-color"><%=  @score.category_team.total_100_team %>/100</h5>
    </div>
  </div>                         
  
  <div class="col-lg-5 col-md-12 col-sm-12 card-startup">
    <canvas id="marksChart" width="600" height="400"></canvas>    
  </div>

  <div class="col-lg-7 col-md-12 col-sm-12 card-startup">
    <canvas id="barChart" width="600" height="425"></canvas>    
  </div>


</div>
<% end %>
<br>
  <br>
  <br>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>

  /*RADAR CHART*/
  var marksCanvas = document.getElementById("marksChart");

  var marksData = {
    labels: ["Equipe", "Finance", "Innovation", "Marché", "Offre", "Strategie"],
    datasets: [{
      label: "<%=@score.name%>",
      data: [Number("<%=@score.category_team.total_100_team%>"), Number("<%=@score.category_finance.total_100_finance%>"), Number("<%=@score.category_innovation.total_100_innovation%>"), Number("<%=@score.category_market.total_100_market%>"), Number("<%=@score.category_offer.total_100_offer%>"), Number("<%=@score.category_strategy.total_100_strategy%>")],
      fill: true,
      backgroundColor: 'rgba(158, 69, 209, 0.2)',
      borderColor: 'rgb(158, 69, 209)',
      pointBackgroundColor: 'rgb(158, 69, 209)',
      pointBorderColor: '#fff',
      pointHoverBackgroundColor: '#fff',
      pointHoverBorderColor: 'rgb(158, 69, 209)'
    }]
  };

  var radarChart = new Chart(marksCanvas, {
    type: 'radar',
    data: marksData,
    options: {
      scales: {
        r: {
          suggestedMin: 0,
          suggestedMax: 100
        }
      }
    }
  });



  /*BAR CHART*/

  var barCanvas = document.getElementById("barChart");

  var barData = {
    labels: ["Equipe", "Finance", "Innovation", "Marché", "Offre", "Strategie"],
    datasets: [{
      label: "<%=@score.name%>",
      data: [Number("<%=@score.category_team.total_100_team%>"), Number("<%=@score.category_finance.total_100_finance%>"), Number("<%=@score.category_innovation.total_100_innovation%>"), Number("<%=@score.category_market.total_100_market%>"), Number("<%=@score.category_offer.total_100_offer%>"), Number("<%=@score.category_strategy.total_100_strategy%>")],
      backgroundColor: [
      'rgba(158, 69, 209, 0.2)',
      ],
      borderColor: [
      'rgb(158, 69, 209)',
      ],
      borderWidth: 2
    }]
  };

  var barChart = new Chart(barCanvas, {
    type: 'bar',
    data: barData,
    options: {
      scales: {
        y: {
          beginAtZero: true,
          suggestedMax: 100
        }
      }
    },
  });

</script>